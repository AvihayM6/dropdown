{"ast":null,"code":"import _toConsumableArray from\"/Users/avihaymaman/Desktop/dropdown/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/avihaymaman/Desktop/dropdown/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Dropdown}from'./components/Dropdown/Dropdown';import'./style/App.css';import{Card}from'./components/Card';import{Summary}from'./components/Summary';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var App=function App(){var INITIAL_ITEMS=[{id:'apple',name:'Apple',selected:false},{id:'carrot',name:'Carrot',selected:false},{id:'melon',name:'Melon',selected:false},{id:'pear',name:'Pear',selected:false},{id:'lemon',name:'Lemon',selected:false},{id:'orange',name:'Orange',selected:false},{id:'salad',name:'Salad',selected:false}];var _useState=useState([].concat(INITIAL_ITEMS)),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];/* const [items, setItems] = useState<Product[]>([...INITIAL_ITEMS]) */var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredSelectedItems=_useState4[0],setFilteredSelectedItems=_useState4[1];var handleSubmit=function handleSubmit(event){event.preventDefault();};useEffect(function(){setFilteredSelectedItems(products.filter(function(product){return product.selected;}));},[products]);var getSelected=function getSelected(products){setProducts(products);};var updateItems=function updateItems(productId){var currentOptionIndex=products.findIndex(function(selectedProduct){return productId===selectedProduct.id;});var tempArr=_toConsumableArray(products);tempArr[currentOptionIndex].selected=false;setProducts(_toConsumableArray(tempArr));};var updateProducts=function updateProducts(product){var currentOptionIndex=products.findIndex(function(innerProduct){return product.id===innerProduct.id;});var tempArr=_toConsumableArray(products);tempArr[currentOptionIndex].stock=product.stock;tempArr[currentOptionIndex].userQuantity=product.userQuantity;tempArr[currentOptionIndex].totalPrice=product.totalPrice;setProducts(_toConsumableArray(tempArr));};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Dropdown,{selected:getSelected,products:products}),/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(event){return handleSubmit(event);},children:/*#__PURE__*/_jsx(\"div\",{className:\"cards-container\",children:filteredSelectedItems.map(function(selectedItem){return/*#__PURE__*/_jsx(Card,{productId:selectedItem.id,closeCard:updateItems,updateProduct:updateProducts},selectedItem.name);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"app-seprator\"}),products&&/*#__PURE__*/_jsx(Summary,{products:products})]});};","map":{"version":3,"names":["React","useEffect","useState","Dropdown","Card","Summary","jsx","_jsx","jsxs","_jsxs","App","INITIAL_ITEMS","id","name","selected","_useState","concat","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","filteredSelectedItems","setFilteredSelectedItems","handleSubmit","event","preventDefault","filter","product","getSelected","updateItems","productId","currentOptionIndex","findIndex","selectedProduct","tempArr","_toConsumableArray","updateProducts","innerProduct","stock","userQuantity","totalPrice","className","children","onSubmit","map","selectedItem","closeCard","updateProduct"],"sources":["/Users/avihaymaman/Desktop/dropdown/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Dropdown} from './components/Dropdown/Dropdown'\nimport './style/App.css'\nimport {Card} from './components/Card'\nimport {Summary} from './components/Summary'\n\ntype Product = {\n  id: string\n  selected: boolean\n  name?: string\n  color?: string\n  price?: number\n  stock?: number\n  totalPrice?: number\n  userQuantity?: number\n}\n\nexport const App = () => {\n  const INITIAL_ITEMS = [\n    {\n      id: 'apple',\n      name: 'Apple',\n      selected: false,\n    }, \n    {\n      id: 'carrot',\n      name: 'Carrot',\n      selected: false,\n    }, \n    {\n      id: 'melon',\n      name: 'Melon',\n      selected: false,\n    },\n    {\n      id: 'pear',\n      name: 'Pear',\n      selected: false,\n    }\n    , \n    {\n      id: 'lemon',\n      name:'Lemon',\n      selected: false,\n    }, \n    {\n      id: 'orange',\n      name:'Orange',\n      selected: false,\n    }, \n    {\n      id: 'salad', \n      name: 'Salad', \n      selected: false,\n    }\n  ] as Product[]\n  const [products, setProducts] = useState<Product[]>([...INITIAL_ITEMS])\n  /* const [items, setItems] = useState<Product[]>([...INITIAL_ITEMS]) */\n  const [filteredSelectedItems, setFilteredSelectedItems] = useState<Product[]>([])\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n  }\n\n  useEffect(() => {\n    setFilteredSelectedItems(products.filter((product:Product) => {\n      return product.selected\n    }))\n  }, [products])\n\n  const getSelected = ((products:Product[]) => {\n    setProducts(products)\n  })\n\n  const updateItems = ((productId:string) => {\n    const currentOptionIndex = products.findIndex((selectedProduct) => {\n      return productId === selectedProduct.id\n    })\n    const tempArr = [...products]\n    tempArr[currentOptionIndex].selected = false\n    setProducts([...tempArr])\n  })\n\n  const updateProducts = (product:Product) => {\n    const currentOptionIndex = products.findIndex((innerProduct) => {\n      return product.id === innerProduct.id\n    })\n    const tempArr = [...products]\n    tempArr[currentOptionIndex].stock = product.stock\n    tempArr[currentOptionIndex].userQuantity = product.userQuantity\n    tempArr[currentOptionIndex].totalPrice = product.totalPrice\n    setProducts([...tempArr])\n  }\n  \n  return (\n    <div className='app'>\n      <Dropdown selected={getSelected} products={products}/>\n      <form onSubmit={(event:React.FormEvent<HTMLFormElement>) => handleSubmit(event)}>\n        <div className='cards-container'>\n          {filteredSelectedItems.map((selectedItem:Product) => {\n            return <Card productId={selectedItem.id} \n                         closeCard={updateItems}\n                         updateProduct={updateProducts}\n                         key={selectedItem.name}/>\n          })}\n        </div>\n      </form>\n      <div className=\"app-seprator\"></div>\n      {products && <Summary products={products}/>}\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}