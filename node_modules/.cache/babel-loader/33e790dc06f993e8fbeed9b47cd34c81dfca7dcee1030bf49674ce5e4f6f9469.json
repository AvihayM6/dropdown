{"ast":null,"code":"import _toConsumableArray from\"/Users/avihaymaman/Desktop/dropdown/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/avihaymaman/Desktop/dropdown/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import'../../style/Dropdown.css';import{FaCaretDown,FaCaretUp}from'react-icons/fa';import{DropdownItem}from'./DropdownItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Dropdown=function Dropdown(_ref){var selected=_ref.selected,products=_ref.products;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredItems=_useState4[0],setFilteredItems=_useState4[1];var handleClick=function handleClick(product){var currentOptionIndex=products.findIndex(function(selectedProduct){return product.id===selectedProduct.id;});var tempArr=_toConsumableArray(products);tempArr[currentOptionIndex].selected=product.selected;selected(_toConsumableArray(tempArr));};useEffect(function(){setFilteredItems(products.filter(function(product){return!product.selected;}));},[products]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-header-container\",onClick:function onClick(){setShowMenu(!showMenu);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-header\",children:\"Select to add item to basket\"}),/*#__PURE__*/_jsx(\"div\",{className:\"caret\",children:showMenu?/*#__PURE__*/_jsx(FaCaretUp,{}):/*#__PURE__*/_jsx(FaCaretDown,{})})]}),showMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:filteredItems.map(function(option,idx){return/*#__PURE__*/_jsx(DropdownItem,{option:option,handleDropdownClick:function handleDropdownClick(){return handleClick(option);}},idx);})})]})});};","map":{"version":3,"names":["useEffect","useState","FaCaretDown","FaCaretUp","DropdownItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dropdown","_ref","selected","products","_useState","_useState2","_slicedToArray","showMenu","setShowMenu","_useState3","_useState4","filteredItems","setFilteredItems","handleClick","product","currentOptionIndex","findIndex","selectedProduct","id","tempArr","_toConsumableArray","filter","children","className","onClick","map","option","idx","handleDropdownClick"],"sources":["/Users/avihaymaman/Desktop/dropdown/src/components/Dropdown/Dropdown.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport '../../style/Dropdown.css'\nimport { FaCaretDown, FaCaretUp } from 'react-icons/fa';\nimport { DropdownItem } from './DropdownItem';\n\ntype Product = {\n  id: string\n  selected: boolean\n  name?: string\n  color?: string\n  price?: number\n  stock?: number\n  totalPrice?: number\n  userQuantity?: number\n}\n\ntype DropdownProps = {\n    selected: Function\n    products: Product[]\n}\n\nexport const Dropdown = ({selected, products}: DropdownProps) => {\n  const [showMenu, setShowMenu] = useState(false)\n  const [filteredItems, setFilteredItems] = useState<Product[]>([])\n  const handleClick = (product: Product) => {\n    const currentOptionIndex = products.findIndex((selectedProduct) => {\n      return product.id === selectedProduct.id\n    })\n    const tempArr = [...products]\n    tempArr[currentOptionIndex].selected = product.selected\n    selected([...tempArr])\n  }\n  useEffect(() => {\n    setFilteredItems(products.filter((product:Product) => {\n      return !product.selected\n    }))\n  }, [products])\n  return (\n    <>\n      <div className='dropdown-container'>\n        <div className='dropdown-header-container'\n             onClick={() => {setShowMenu(!showMenu)}}>\n          <div className='dropdown-header'>\n            Select to add item to basket\n          </div>\n          <div className='caret'>\n            {showMenu ? <FaCaretUp /> : <FaCaretDown />}\n          </div>\n        </div>\n        {\n          showMenu\n          && \n          <div className=\"dropdown-content\">\n            {filteredItems.map((option, idx) => {\n                return <DropdownItem key={idx}\n                                      option={option}\n                                      handleDropdownClick={() => handleClick(option)}/>\n            })}\n          </div>\n        }\n      </div>\n    </>\n  );\n}\n"],"mappings":"0PAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,0BAA0B,CACjC,OAASC,WAAW,CAAEC,SAAS,KAAQ,gBAAgB,CACvD,OAASC,YAAY,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAkB9C,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAAC,IAAA,CAA4C,IAAvC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAC1C,IAAAC,SAAA,CAAgCd,QAAQ,CAAC,KAAK,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA0CnB,QAAQ,CAAY,EAAE,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1DE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtC,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,OAAgB,CAAK,CACxC,GAAM,CAAAC,kBAAkB,CAAGZ,QAAQ,CAACa,SAAS,CAAC,SAACC,eAAe,CAAK,CACjE,MAAO,CAAAH,OAAO,CAACI,EAAE,GAAKD,eAAe,CAACC,EAAE,CAC1C,CAAC,CAAC,CACF,GAAM,CAAAC,OAAO,CAAAC,kBAAA,CAAOjB,QAAQ,CAAC,CAC7BgB,OAAO,CAACJ,kBAAkB,CAAC,CAACb,QAAQ,CAAGY,OAAO,CAACZ,QAAQ,CACvDA,QAAQ,CAAAkB,kBAAA,CAAKD,OAAO,CAAC,CAAC,CACxB,CAAC,CACD9B,SAAS,CAAC,UAAM,CACduB,gBAAgB,CAACT,QAAQ,CAACkB,MAAM,CAAC,SAACP,OAAe,CAAK,CACpD,MAAO,CAACA,OAAO,CAACZ,QAAQ,CAC1B,CAAC,CAAC,CAAC,CACL,CAAC,CAAE,CAACC,QAAQ,CAAC,CAAC,CACd,mBACER,IAAA,CAAAI,SAAA,EAAAuB,QAAA,cACEzB,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCzB,KAAA,QAAK0B,SAAS,CAAC,2BAA2B,CACrCC,OAAO,CAAE,SAAAA,QAAA,CAAM,CAAChB,WAAW,CAAC,CAACD,QAAQ,CAAC,EAAE,CAAAe,QAAA,eAC3C3B,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,8BAEjC,CAAK,CAAC,cACN3B,IAAA,QAAK4B,SAAS,CAAC,OAAO,CAAAD,QAAA,CACnBf,QAAQ,cAAGZ,IAAA,CAACH,SAAS,GAAE,CAAC,cAAGG,IAAA,CAACJ,WAAW,GAAE,CAAC,CACxC,CAAC,EACH,CAAC,CAEJgB,QAAQ,eAERZ,IAAA,QAAK4B,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAC9BX,aAAa,CAACc,GAAG,CAAC,SAACC,MAAM,CAAEC,GAAG,CAAK,CAChC,mBAAOhC,IAAA,CAACF,YAAY,EACEiC,MAAM,CAAEA,MAAO,CACfE,mBAAmB,CAAE,SAAAA,oBAAA,QAAM,CAAAf,WAAW,CAACa,MAAM,CAAC,EAAC,EAF3CC,GAE4C,CAAC,CAC3E,CAAC,CAAC,CACC,CAAC,EAEL,CAAC,CACN,CAAC,CAEP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}